{
  
    
        "post0": {
            "title": "Looking into food price inflation using data from Tesco",
            "content": ". Disclaimer: The use of data collected for this study is covered by the Intellectual Property Office’s Exceptions to Copyright for Non-Commercial Research and Private Study (https://www.gov.uk/guidance/exceptions-to-copyright). No personal information has been collected as part of this study&#39;s data collection process and web scraping best practices implemented to the best of the author&#39;s abilities. The collected data will be inaccessible to the public to abide by Section 7 of the Terms and Conditions agreement laid out by Tesco (https://www.tesco.com/help/terms-and-conditions/). . Since July 2021 the Consumer Prices Index (CPI) inflation rate in the UK has broken away from the Bank of England&#39;s target rate of 2%, steadily rising month by month. As of 3rd September 2022, the inflation rate stands at 10.1% with no indication of decreasing. What an awfully depressing way to start a blog post but unfortunately this is the reality that we are all currently facing in the UK. Every month the Office for National Statistics (ONS) calculates CPI by collecting the prices for a basket of around 730 different consumer goods and services that is a representation of the society&#39;s current buying habits and measures the average change in price of the basket on a year-over-year basis. At a risk of grossly simplifing, CPI tells us how much prices in general have changed over the last 12 months. . . That&#39;s all nice and well but society&#39;s buying habits doesn&#39;t necessarily reflect my buying habits. There are 12 broad categories of goods and services in the CPI basket, some of these categories such as clothing and footware, and furniture and household goods don&#39;t apply to me as I rarely ever buy new clothes or furniture. The full list of categories and goods and services of each category can be found on the ONS website here. One category that does apply to me, and to everyone else, is food and drinks. Food and drink goods (excluding alcohol) currently account for 9.3% of the weighting in CPI, which is a relatively small slice of the pie. . During recent times I&#39;ve noticed that my shopping bill has gone up overall but I can&#39;t quite pin down what items are contributing the most to the this increase. To this end, I&#39;ve built a cloud-based webscraping application that scrapes product data from Tesco&#39;s website including price and categories (Github link - blog article incoming). The reason why I chose Tesco as opposed to any other supermarket is because it&#39;s 5 minutes down the road from me. . In this article we&#39;ll load, process, transform, and analyse this scraped data to see how the prices of food categories have changed over time. If you want to skip directly to the charts and analysis, head to the &#39;Charts and Analysis&#39; section in the above table of contents. . Data Overview and Processing . The webscraping pipeline was ran on a near daily basis from 28th February 2022 to 13th June 2022, giving me 90 days worth of data. For each day, the names, price per unit and price per weight or quantity, product category and subcategories, promotional offers, and clubcard prices were collected. All prices are in pound sterling (£). The way that Tesco categorises products is through a primary (or parent) category followed by 3 subcategories, each more granular than the last. . The scraped data from Tesco is in the following format: . Product Name Date Primary Category Secondary Category Tertiary Category Quaternary Category Price per Unit (£) Price per Weight or Quantity (£) Weight or Quantity Unit Clubcard Price per Unit (£) Clubcard Discount (%) Promotional Offer . 0 Tesco Macaroni Pasta 1Kg | 2022-02-28 | food-cupboard | dried-pasta-rice-noodles-and-cous-cous | pasta-and-spaghetti | pasta-macaroni-penne-and-rigatoni | 1.3 | 1.30 | kg | None | None | None | . 1 Canderel 5 Refill Sachets 500Pk | 2022-02-28 | food-cupboard | home-baking-and-sugar | sweeteners-and-sugar-substitutes | sweetener-tablets | 5.1 | 120.00 | kg | None | None | None | . 2 Highland Still Spring Water 12 X 330Ml | 2022-02-28 | drinks | water | still-water | small-still-water | 2.5 | 0.06 | 100ml | None | None | None | . In its current state, the data is too granular to work with. It&#39;s reasonable to assume that the price of vast majority of products don&#39;t change on a day to day basis, so we&#39;ll transform the data into a weekly format where we&#39;ll take the median price of a product for the entire week commencing on Monday as the aggregation function. . This will account for any pricing errors from Tesco&#39;s pricing department which could dramatically skew the mean value (e.g., accidentally setting the price of a bag of 5kg basmati rice as £500 instead of £5.00 for a day before being corrected will affect the weekly mean price but not the weekly median price). We&#39;ll also drop out columns that aren&#39;t needed for this piece of analysis. Namely the clubcard, promotional offer, and weight/quantity columns. . Once transformed, we&#39;ll take the example of the first 3 weeks of data for Tesco Ground Cinnamon (40G Jar) to see the format of the processed data: . Product Name Week Commencing Monday Primary Category Secondary Category Tertiary Category Quaternary Category Price per Unit (£) . 0 Tesco Ground Cinnamon 40G Jar | 2022-02-28 | food-cupboard | cooking-ingredients | seasoning-herbs-and-spices | spices | 0.85 | . 1 Tesco Ground Cinnamon 40G Jar | 2022-03-07 | food-cupboard | cooking-ingredients | seasoning-herbs-and-spices | spices | 0.85 | . 2 Tesco Ground Cinnamon 40G Jar | 2022-03-14 | food-cupboard | cooking-ingredients | seasoning-herbs-and-spices | spices | 0.85 | . Not much of a change when looking at 3 weeks worth of data for this product. While we&#39;re at it, let&#39;s take a look at how many different subcategories each main categories has: . Primary Category Number of Secondary Categories Number of Tertiary Categories Number of Quaternary Categories . 0 fresh-food | 19 | 180 | 606 | . 1 drinks | 18 | 77 | 272 | . 2 food-cupboard | 18 | 173 | 682 | . 3 bakery | 10 | 52 | 78 | . 4 frozen-food | 15 | 76 | 148 | . It&#39;s very clear that fresh food and food cupboard main categories have the largest amount of products judging by the number of quaternary categories they have. The bakery main category seems to be the smallest with not much of an increase going from tertiarty to quaternary categories. . Calculating Index Numbers . Before we can go on with our analysis, we need to first understand what index numbers are and why they&#39;re used, and how we can use it in the context of this analysis piece. . In essence, index numbers are used to measure changes and simplify comparisons. In particular, they&#39;re used in the field of economics to measure changes in price (i.e., inflation or deflation) and changes in quantity (e.g., sales volumes or economic output). The way that index numbers are calculated is to take a base value from a particular point in time and determine the ratio between the base value and a value from a future point in time. . As an example, imagine we want to understand how much the price of a standard Oreo McFlurry from McDonalds changes over time. I&#39;d go into my local store one day and note the price down, let&#39;s say it&#39;s £0.80. I come back 2 months later and the price has gone up to £1.00. To calculate the index we would need to divide the new price by the base price and multiply the result by 100, which would give us 125. We interpret this as a 25% increase in price over the 2 month time period. Of course I could go in another 2 months later, note the price, and calculate another index number using the base price to see how the price has changed over a 4 month time period. . This line of thinking can be naturally extended to consider baskets of products instead of a singluar product by taking the sum of the prices of products in the basket. . In fact, that&#39;s exactly what we&#39;ll do. For each of the primary, secondary, tertiary, and quaternary categories we&#39;ll calculate the total value of the basket of products and use that to calculate the index numbers. But hang on a moment here, what if Tesco decides to de-list a product and stop selling it - what happens then? It&#39;ll mean that the total basket value is no longer comparable between different points in time, meaning that the index numbers are misleading. To combat this, I&#39;ve only taken products within categories that are present across all of the weeks in the dataset so that the total value of a category&#39;s basket is comparable across time. any subcategories that have less than 5 items are excluded to save on processing time. . At the end of this processing step we&#39;ll have 4 datasets, one for each level of category granularity: . Week Commencing Monday Primary Category Total Basket Value Index . 0 2022-02-28 | fresh-food | 6298.790 | 100.000000 | . 1 2022-03-07 | fresh-food | 6306.640 | 100.124627 | . 2 2022-03-14 | fresh-food | 6311.605 | 100.203452 | . Week Commencing Monday Primary Category Secondary Category Total Basket Value Index . 0 2022-02-28 | fresh-food | fresh-meat-and-poultry | 1252.15 | 100.000000 | . 1 2022-03-07 | fresh-food | fresh-meat-and-poultry | 1252.32 | 100.013577 | . 2 2022-03-14 | fresh-food | fresh-meat-and-poultry | 1254.22 | 100.165316 | . Week Commencing Monday Primary Category Secondary Category Tertiary Category Total Basket Value Index . 0 2022-02-28 | fresh-food | fresh-meat-and-poultry | fresh-chicken | 172.34 | 100.000000 | . 1 2022-03-07 | fresh-food | fresh-meat-and-poultry | fresh-chicken | 172.51 | 100.098642 | . 2 2022-03-14 | fresh-food | fresh-meat-and-poultry | fresh-chicken | 172.51 | 100.098642 | . Week Commencing Monday Primary Category Secondary Category Tertiary Category Quaternary Category Total Basket Value Index . 0 2022-02-28 | fresh-food | fresh-meat-and-poultry | fresh-chicken | chicken-breast | 42.53 | 100.0 | . 1 2022-03-07 | fresh-food | fresh-meat-and-poultry | fresh-chicken | chicken-breast | 42.53 | 100.0 | . 2 2022-03-14 | fresh-food | fresh-meat-and-poultry | fresh-chicken | chicken-breast | 42.53 | 100.0 | . Charts and Analysis . Overview of Price Changes for All Categories . Let&#39;s start with the big picture (quite literally), how did prices change when comparing the basket values of categories? . Note that the index numbers presented in the graph below are accurate when rounding to whole numbers. . Technical explanation - The numbers get more inaccurate as you go up category granularities due to the way that the index numbers are aggregated. I&#39;m using the most granular dataset that contains index numbers of quaternary categories, these are then aggregated up to the tertiary category level using the harmonic mean weighted by the basket value of the quarternary categories within the tertiary category. This process repeats for the secondary and then the primary categories, the approximation error increasing going up with each category level. . Tip: This chart is interactive! Hover your mouse over the sector to look at the index number of categories (if on mobile, tap and hold the name of the category). Clicking on a sector will focus on that particular category and its subcategories. There&#39;s 4 levels of categories but only 3 levels are shown at any one time for better performance. . Straight away we can see that fresh food and frozen food have increased by ~3% and ~4% respectively. The major contributing subcategories for fresh food are cheese (~5% increase); fresh meat and poultry (~5% increase); ready meals (~4% increase); and yogurts (~4% increase). For frozen food, the major contributing subcategories are frozen fish and seafood (~9% increase); frozen chips, onion rings, potatoes, and rice (~12% increase); and frozen meat and poultry (~5% increase). . Yikes, no wonder why my shopping bill has been going up. Fresh chicken breast and thighs have gone up by over 10%! . Overall, prices have by 1.7% across all categories and products in the processed dataset. . We can also see there are a few secondary categories that have gone down, most notably is the cooking sauces, meal kits, and sides subcategory within the food cupboard cateogry which has gone down by ~2%. This does raise another question though, how many categories in each level experienced an increase, decrease, or no change in price? . It&#39;s very clear from the above that the bakery and frozen food primary categories had all secondary, tertiary, and quaternary subcategories either increase in price or stay the same! We&#39;ll have to note that they&#39;re the two smallest primary categories by both total basket value and number of subcategories, but there are ongoing macroeconomic events that are affecting both the supply chain and cost of businesses. . As of writing, the 2022 Russian invasion of Ukraine is affecting the two largest global suppliers of wheat. Russia produces 11% of the world&#39;s wheat and accounts for 19% of global wheat exports. On the other hand, Ukraine produces 3% of the world&#39;s wheat and accounts for 9% of global wheat exports. Both of these together account for more than a quarter of the world&#39;s wheat export market 1. You can guess what ingredient bakery goods use that&#39;s derived from wheat. . Energy prices have also been rising throughout 2022 and are forecasted to reach unprecendented levels during the first two quarters of 2023. The eletricity price (kWh) cap rose from 20.8p in Q1 2022 to 28.3p in Q2 2022 2, an increase of 36%. Guess what&#39;s needed to keep frozen food frozen. . Generally speaking, it does seem that the vast majority of subcategories have experienced an increase in price, no matter what level of category granularity is being looked at. The drinks and food cupboard primary categories are the least affected as they&#39;re the only two that contain secondary categories that have decreased in price; that being said they only account for 11.1% and 18.8% of the total number of their respective total secondary categories. . 1. Source: https://asmith.ucdavis.edu/news/russia-ukraine↩ . 2. Source: https://www.icaew.com/insights/viewpoints-on-the-news/2022/sept-2022/chart-of-the-week-energy-price-cap-update↩ . Price Changes for Primary Food Categories . Let&#39;s now take a look at how the index of primary categories changed over time as opposed to a snapshot in time. . There&#39;s a few things I&#39;m seeing from this graph. First is that bakery, drinks, and food cupboard items seem to be plateauing where as fresh and frozen items don&#39;t seem to be slowing down. Second, the fresh and frozen items have the . Price Changes for Fresh Food Subcategories . Price Changes for Frozen Food Subcategories . Price Changes for Food Cupboard Subcategories . Price Changes for Drinks Subcategories . Price Changes for Bakery Subcategories . px.imshow( cat_index_dict[&#39;category_2&#39;].pivot_table(index=&#39;date&#39;, columns=[&#39;category_2&#39;], values=&#39;index&#39;).corr(), labels=dict(x=&quot;Secondary Category&quot;, y=&quot;Secondary Category&quot;, color=&quot;Correlation&quot;), color_continuous_scale=&#39;balance&#39;, color_continuous_midpoint=0, aspect=&quot;auto&quot;, height=1000, width=1200 ) . Wrapping Up . PUT THE CONCLUSION HERE .",
            "url": "https://www.solverism.com/inflation/analysis/2022/09/04/tesco-price-analysis.html",
            "relUrl": "/inflation/analysis/2022/09/04/tesco-price-analysis.html",
            "date": " • Sep 4, 2022"
        }
        
    
  
    
        ,"post1": {
            "title": "Fastpages Notebook Blog Post",
            "content": "About . This notebook is a demonstration of some of capabilities of fastpages with notebooks. . With fastpages you can save your jupyter notebooks into the _notebooks folder at the root of your repository, and they will be automatically be converted to Jekyll compliant blog posts! . Front Matter . The first cell in your Jupyter Notebook or markdown blog post contains front matter. Front matter is metadata that can turn on/off options in your Notebook. It is formatted like this: . # &quot;My Title&quot; &gt; &quot;Awesome summary&quot; - toc:true- branch: master - badges: true - comments: true - author: Hamel Husain &amp; Jeremy Howard - categories: [fastpages, jupyter] . Setting toc: true will automatically generate a table of contents | Setting badges: true will automatically include GitHub and Google Colab links to your notebook. | Setting comments: true will enable commenting on your blog post, powered by utterances. | . The title and description need to be enclosed in double quotes only if they include special characters such as a colon. More details and options for front matter can be viewed on the front matter section of the README. . Markdown Shortcuts . A #hide comment at the top of any code cell will hide both the input and output of that cell in your blog post. . A #hide_input comment at the top of any code cell will only hide the input of that cell. . The comment #hide_input was used to hide the code that produced this. . put a #collapse-hide flag at the top of any cell if you want to hide that cell by default, but give the reader the option to show it: . import pandas as pd import altair as alt . . put a #collapse-show flag at the top of any cell if you want to show that cell by default, but give the reader the option to hide it: . cars = &#39;https://vega.github.io/vega-datasets/data/cars.json&#39; movies = &#39;https://vega.github.io/vega-datasets/data/movies.json&#39; sp500 = &#39;https://vega.github.io/vega-datasets/data/sp500.csv&#39; stocks = &#39;https://vega.github.io/vega-datasets/data/stocks.csv&#39; flights = &#39;https://vega.github.io/vega-datasets/data/flights-5k.json&#39; . . place a #collapse-output flag at the top of any cell if you want to put the output under a collapsable element that is closed by default, but give the reader the option to open it: . print(&#39;The comment #collapse-output was used to collapse the output of this cell by default but you can expand it.&#39;) . The comment #collapse-output was used to collapse the output of this cell by default but you can expand it. . . Interactive Charts With Altair . Charts made with Altair remain interactive. Example charts taken from this repo, specifically this notebook. . Example 1: DropDown . # use specific hard-wired values as the initial selected values selection = alt.selection_single( name=&#39;Select&#39;, fields=[&#39;Major_Genre&#39;, &#39;MPAA_Rating&#39;], init={&#39;Major_Genre&#39;: &#39;Drama&#39;, &#39;MPAA_Rating&#39;: &#39;R&#39;}, bind={&#39;Major_Genre&#39;: alt.binding_select(options=genres), &#39;MPAA_Rating&#39;: alt.binding_radio(options=mpaa)} ) # scatter plot, modify opacity based on selection alt.Chart(df).mark_circle().add_selection( selection ).encode( x=&#39;Rotten_Tomatoes_Rating:Q&#39;, y=&#39;IMDB_Rating:Q&#39;, tooltip=&#39;Title:N&#39;, opacity=alt.condition(selection, alt.value(0.75), alt.value(0.05)) ) . Example 2: Tooltips . alt.Chart(df).mark_circle().add_selection( alt.selection_interval(bind=&#39;scales&#39;, encodings=[&#39;x&#39;]) ).encode( alt.X(&#39;Rotten_Tomatoes_Rating&#39;, type=&#39;quantitative&#39;), alt.Y(&#39;IMDB_Rating&#39;, type=&#39;quantitative&#39;, axis=alt.Axis(minExtent=30)), # y=alt.Y(&#39;IMDB_Rating:Q&#39;, ), # use min extent to stabilize axis title placement tooltip=[&#39;Title:N&#39;, &#39;Release_Date:N&#39;, &#39;IMDB_Rating:Q&#39;, &#39;Rotten_Tomatoes_Rating:Q&#39;] ).properties( width=500, height=400 ) . Example 3: More Tooltips . label = alt.selection_single( encodings=[&#39;x&#39;], # limit selection to x-axis value on=&#39;mouseover&#39;, # select on mouseover events nearest=True, # select data point nearest the cursor empty=&#39;none&#39; # empty selection includes no data points ) # define our base line chart of stock prices base = alt.Chart().mark_line().encode( alt.X(&#39;date:T&#39;), alt.Y(&#39;price:Q&#39;, scale=alt.Scale(type=&#39;log&#39;)), alt.Color(&#39;symbol:N&#39;) ) alt.layer( base, # base line chart # add a rule mark to serve as a guide line alt.Chart().mark_rule(color=&#39;#aaa&#39;).encode( x=&#39;date:T&#39; ).transform_filter(label), # add circle marks for selected time points, hide unselected points base.mark_circle().encode( opacity=alt.condition(label, alt.value(1), alt.value(0)) ).add_selection(label), # add white stroked text to provide a legible background for labels base.mark_text(align=&#39;left&#39;, dx=5, dy=-5, stroke=&#39;white&#39;, strokeWidth=2).encode( text=&#39;price:Q&#39; ).transform_filter(label), # add text labels for stock prices base.mark_text(align=&#39;left&#39;, dx=5, dy=-5).encode( text=&#39;price:Q&#39; ).transform_filter(label), data=stocks ).properties( width=500, height=400 ) . Data Tables . You can display tables per the usual way in your blog: . df[[&#39;Title&#39;, &#39;Worldwide_Gross&#39;, &#39;Production_Budget&#39;, &#39;Distributor&#39;, &#39;MPAA_Rating&#39;, &#39;IMDB_Rating&#39;, &#39;Rotten_Tomatoes_Rating&#39;]].head() . Title Worldwide_Gross Production_Budget Distributor MPAA_Rating IMDB_Rating Rotten_Tomatoes_Rating . 0 The Land Girls | 146083.0 | 8000000.0 | Gramercy | R | 6.1 | NaN | . 1 First Love, Last Rites | 10876.0 | 300000.0 | Strand | R | 6.9 | NaN | . 2 I Married a Strange Person | 203134.0 | 250000.0 | Lionsgate | None | 6.8 | NaN | . 3 Let&#39;s Talk About Sex | 373615.0 | 300000.0 | Fine Line | None | NaN | 13.0 | . 4 Slam | 1087521.0 | 1000000.0 | Trimark | R | 3.4 | 62.0 | . Images . Local Images . You can reference local images and they will be copied and rendered on your blog automatically. You can include these with the following markdown syntax: . ![](my_icons/fastai_logo.png) . . Remote Images . Remote images can be included with the following markdown syntax: . ![](https://image.flaticon.com/icons/svg/36/36686.svg) . . Animated Gifs . Animated Gifs work, too! . ![](https://upload.wikimedia.org/wikipedia/commons/7/71/ChessPawnSpecialMoves.gif) . . Captions . You can include captions with markdown images like this: . ![](https://www.fast.ai/images/fastai_paper/show_batch.png &quot;Credit: https://www.fast.ai/2020/02/13/fastai-A-Layered-API-for-Deep-Learning/&quot;) . . Other Elements . GitHub Flavored Emojis . Typing I give this post two :+1:! will render this: . I give this post two :+1:! . Tweetcards . Typing &gt; twitter: https://twitter.com/jakevdp/status/1204765621767901185?s=20 will render this: Altair 4.0 is released! https://t.co/PCyrIOTcvvTry it with: pip install -U altairThe full list of changes is at https://t.co/roXmzcsT58 ...read on for some highlights. pic.twitter.com/vWJ0ZveKbZ . &mdash; Jake VanderPlas (@jakevdp) December 11, 2019 . Youtube Videos . Typing &gt; youtube: https://youtu.be/XfoYk_Z5AkI will render this: . Boxes / Callouts . Typing &gt; Warning: There will be no second warning! will render this: . Warning: There will be no second warning! . Typing &gt; Important: Pay attention! It&#39;s important. will render this: . Important: Pay attention! It&#8217;s important. . Typing &gt; Tip: This is my tip. will render this: . Tip: This is my tip. . Typing &gt; Note: Take note of this. will render this: . Note: Take note of this. . Typing &gt; Note: A doc link to [an example website: fast.ai](https://www.fast.ai/) should also work fine. will render in the docs: . Note: A doc link to an example website: fast.ai should also work fine. . Footnotes . You can have footnotes in notebooks, however the syntax is different compared to markdown documents. This guide provides more detail about this syntax, which looks like this: . For example, here is a footnote {% fn 1 %}. And another {% fn 2 %} {{ &#39;This is the footnote.&#39; | fndetail: 1 }} {{ &#39;This is the other footnote. You can even have a [link](www.github.com)!&#39; | fndetail: 2 }} . For example, here is a footnote 1. . And another 2 . 1. This is the footnote.↩ . 2. This is the other footnote. You can even have a link!↩ .",
            "url": "https://www.solverism.com/jupyter/2020/02/20/test.html",
            "relUrl": "/jupyter/2020/02/20/test.html",
            "date": " • Feb 20, 2020"
        }
        
    
  

  
  

  
      ,"page1": {
          "title": "About Me",
          "content": "Links . Github | LinkedIn | CV, Apr 2022 | . Bio . I’m Brandon Lee, aka Solverism, a Senior Data Scientist currently employed at GlobalLogic. I’ve worked across multiple industries as a consultant including agriculture, construction, utiliites, and automotive where I’ve solved a variety of challenging and interesting data science problems. . I’m a huge believer of being a life time learner where the learning doesn’t stop once you’ve reached a certain career goal. No, I believe learning should be thought of as a tool that will allow you to become the best version of yourself. A tool that allows you to be constantly honed and sharpened, ready to face any challenges that face your way - be it personal or professional. . When I’m not trying to preach my life philsophy to strangers online, I’m usually building, tinkering with, or thinking of new ideas for data science projects in my free time. These usually start with a small idea but can somehow grow to multiple fully-fledged projects. More often than not, they come about because I want to put some new skills or concepts I’ve learned on client projects into practice. Outside of data science, I’m also pretty passionate about physical fitness. . Hopefully you’ll learn a thing or two from visiting my blog, enjoy your stay and feel free to send me a message! .",
          "url": "https://www.solverism.com/about/",
          "relUrl": "/about/",
          "date": ""
      }
      
  

  

  
  

  

  
  

  

  
  

  
  

  
  

  
      ,"page10": {
          "title": "",
          "content": "Sitemap: {{ “sitemap.xml” | absolute_url }} | .",
          "url": "https://www.solverism.com/robots.txt",
          "relUrl": "/robots.txt",
          "date": ""
      }
      
  

}